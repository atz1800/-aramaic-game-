<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <title>××©×—×§ ×œ×™××•×“ ××¨××™×ª - ××™×œ×•×Ÿ 300 ××™×œ×™×</title>
  <style>
    body {
      direction: rtl;
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background: linear-gradient(120deg, #cceeff, #e0ccff);
      min-height: 100vh;
    }
    .container {
      width: 90%;
      max-width: 900px;
      margin: 20px auto;
      background: #ffffffdd;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
    }
    .creator-note {
      font-size: 12px;
      color: #666;
      margin: 0;
      padding: 0;
      text-align: left;
      margin-bottom: 10px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
      color: #444;
      background: linear-gradient(to right, #5da9dd, #7d5add);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    h2, h3 {
      margin-top: 0;
      margin-bottom: 15px;
      color: #333;
    }
    p {
      margin: 0 0 10px;
    }
    button {
      background: #5d5add;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 8px 14px;
      cursor: pointer;
      font-size: 14px;
      margin-right: 8px;
      transition: background 0.2s ease;
    }
    button:hover {
      background: #4843c8;
    }
    .btn-outline {
      background: #fff;
      color: #5d5add;
      border: 1px solid #5d5add;
    }
    .btn-outline:hover {
      background: #eae7ff;
      color: #433da4;
    }
    .input-text {
      display: block;
      width: 100%;
      padding: 8px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }
    .question-box {
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 6px;
      margin-bottom: 20px;
      background: #fafafe;
    }
    /* ×ª×©×•×‘×•×ª ×›×§×œ×¤×™× */
    .answers-grid {
      display: grid;
      grid-template-columns: 1fr 1fr; 
      gap: 10px;
    }
    .answer-card {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: background 0.2s, border-color 0.2s;
      font-size: 14px;
    }
    .answer-card:hover {
      background: #f3f3f3;
    }
    .correct {
      border-color: #28a745;
      background: #d4edda;
    }
    .wrong {
      border-color: #dc3545;
      background: #f8d7da;
    }
    .items-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
      margin-bottom: 20px;
    }
    .item-card {
      border: 1px solid #ccc;
      border-radius: 4px;
      background: #fafafa;
      padding: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .item-icon {
      font-size: 24px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 14px;
      background: #fff;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: center;
      vertical-align: middle;
    }
    thead {
      background: #eae7ff;
    }
    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .overlay-content {
      background: #fff;
      padding: 20px;
      border-radius: 6px;
      width: 90%;
      max-width: 700px;
    }
  </style>

<meta name="NetsparkQuiltingResult" total-length="31803" removed="0" rules-found="w2655,w3390,w3012,w2577,w21217,w18220,w19473,w30244,w17521,w30270,w17496,w17494,w30581,w30661,w19665,w17802,w30329,w19801,w30580,w30596,w16717,w30145,w30984,w30660,w30794,w30219,w73,w4748,w4749,w30364" />
</head>
<body>

<div class="container" id="gameRoot">
  <!-- ×”×ª×•×›×Ÿ × ×™×¦×•×¨ ×‘-JS -->
</div>

<script>
/********************************************
  1) ×”×•×¡×¤×ª ××©×¤×˜ "× ×•×¦×¨ ×¢"×™ ×¢××™×—×™ ×¦×“×•×§" ×œ××¢×œ×”
********************************************/
// × ×™×¦×•×¨ ××œ×× ×˜ p ×•× ×•×¡×™×£ ××•×ª×• ×™×“× ×™×ª ×œ×¤× ×™ ×›×œ ×”×ª×•×›×Ÿ
const root = document.getElementById("gameRoot");
const creatorNote = document.createElement("p");
creatorNote.className = "creator-note";
creatorNote.textContent = "× ×•×¦×¨ ×¢×œ ×™×“×™ ×¢××™×—×™ ×¦×“×•×§";
root.appendChild(creatorNote);

/**************************************
  ×¨×©×™××ª 300 ××™×œ×™× ×‘××¨××™×ª
**************************************/
const ARAMAIC_DICTIONARY = {
  "××‘×": "××‘",
  "××‘×“ ×–×›×•×ª×™×”": "××™×‘×“ ××ª ×–×›×•×™×•×ª×™×•",
  "××‘×”×ª×Ÿ": "××‘×•×ª×™×”×",
  "××‘×”×ª×™×”": "××‘×•×ª×™×•",
  "××“×”×›×™": "×‘×™× ×ª×™×™×, ×‘×¢×•×“ ×©â€¦",
  "××“×™×•×§×": "×‘×“×™×•×§, ×‘×”×“×’×©×”",
  "××“×¨×‘×”": "××“×¨×‘×, ×œ×”×™×¤×š",
  "××™": "××",
  "××™ × ××™": "××• ×’×, ××¤×©×¨×•×ª × ×•×¡×¤×ª",
  "××™×›×": "×™×©, ××¦×•×™",
  "××™×œ×•": "××œ×•, ××œ×”",
  "××™××•×¨": "×××•×¨, × ×××¨",
  "××™× ×š": "×”××—×¨×™×, ×”×©××¨",
  "××™×Ÿ": "×›×Ÿ (×œ×”×¡×›××”)",
  "××™×¡×•×¨×": "××™×¡×•×¨",
  "××™×ª×¨×‘×™": "× ×ª×¨×‘×”, × ×›×œ×œ (×”×•×¨×—×‘ ×”×“×™×Ÿ)",
  "××™×§×œ×¢": "× ×–×“××Ÿ, ×”×’×™×¢",
  "××™××ª×™": "××ª×™",
  "××™××ª×™ ×§×˜×™×¨×": "××ª×™ × ×§×©×¨ ×”×“×‘×¨?",
  "××™×¡×ª×¤×§× ×œ×Ÿ": "× ×¡×ª×¤×§ ×œ× ×•, ×”×ª×¢×•×¨×¨ ×¡×¤×§",
  "××™×›× ×“××ª× ×™": "×™×© ××™ ×©××•×¡×¨ ×›×š",
  "×‘××™": "×‘××™× (×¦×•×¨×ª ×¨×‘×™×)",
  "×‘×”××™": "×‘×–×”, ×‘×“×‘×¨ ×–×”",
  "×‘×”×“×™×”": "×™×—×“ ×¢××•, ×™×—×“ ××™×ª×•",
  "×‘×™×”×“×™×”": "×‘×™×—×“, ×‘××•×ª×• ×–××Ÿ",
  "×‘×¨×™×™×ª×": "××©× ×” ×—×™×¦×•× ×™×ª (×œ× × ×›× ×¡×” ×œ××©× ×”)",
  "×‘×¨": "×‘×Ÿ / ×—×•×¥ / ×ª×‘×•××” (×ª×œ×•×™ ×”×§×©×¨)",
  "×‘×¨×™": "×‘×¨×•×¨, ×•×“××™",
  "×‘×ª×¨×": "××—×¨×•×Ÿ, ×”××—×¨×•×Ÿ",
  "×‘×™× ×™ ×•×‘×™× ×™": "×‘×™× ×ª×™×™×, ×‘×™×Ÿ ×›×š ×•×‘×™×Ÿ ×›×š",
  "×‘×¨×": "××‘×œ, ××œ×",
  "×‘×˜×œ×™× ×Ÿ": "××‘×˜×œ×™×, ××ª×‘×˜×œ×™×",
  "×‘×ª×¨": "××—×¨×™, ×œ××—×¨",
  "×‘×ª×¨ ×“...": "××—×¨×™ ×©â€¦",
  "×‘×¢×œ××": "×¡×ª×, ×›×œ×œ×™×ª",
  "×‘×¢×™": "×¨×•×¦×” / ×©×•××œ / ×¦×¨×™×š",
  "×‘×™ ×“×™× ×": "×‘×™×ª ×”×“×™×Ÿ",
  "×‘×™×” ×‘×™": "×‘×‘×™×ª, ×‘×•",
  "×‘×™×©": "×¨×¢, ×’×¨×•×¢",
  "×‘×™×©×•×œ×": "×‘×™×©×•×œ (×¤×¢×•×œ×”)",
  "×‘×›×“×™": "×‘×—×™× ×, ×œ×œ× ×¡×™×‘×” / ××• ×‘×›××•×ª ××¡×¤×§×ª",
  "×’×‘×¨×": "××™×©",
  "×’×¨×¡×™× ×Ÿ": "×’×•×¨×¡×™×, ×œ×•××“×™× (× ×•×¡×—)",
  "×’×–×™×¨×”": "×’×–×¨×” (××™×¡×•×¨ ×“×¨×‘× ×Ÿ)",
  "×’××¨": "×œ××“, ×¡×™×™×",
  "×’××¨×": "×ª×•×¨×” ×©×‘×¢×œ ×¤×” / ×—×œ×§ ×”×ª×œ××•×“",
  "×’×¨×™×¢×•×ª×": "×¤×—×™×ª×•×ª, ×’×¨×™×¢×•×ª",
  "×’×¨×™×“×": "×‘×œ×‘×“, × ×˜×•",
  "×’×“×¤×": "×›× ×£, ×¦×“",
  "×’×¨××": "×’×¨×™××” ×‘×¢×§×™×¤×™×Ÿ",
  "×’×œ×•×ª×": "×’×œ×•×ª",
  "×’×•×¤×™×”": "×’×•×¤×•, ×”×•× ×¢×¦××•",
  "×’×™× ×•× ×": "× ×™××•×¡, ×”× ×”×’×”",
  "×’×•×™×–×": "×’×–×¢ ×¢×¥, ×™×¡×•×“ ×”×“×‘×¨",
  "×’×•×¤×": "×”×¢× ×™×™×Ÿ ×¢×¦××•, ×’×•×£ ×”×“×‘×¨×™×",
  "×’×¨×™×¢×•×ª× ×“××™×œ×ª×": "×—×¡×¨×•×Ÿ ×”×“×‘×¨",
  "×’×‘×¨× ×¨×‘×”": "××“× ×’×“×•×œ (×‘×ª×•×¨×”)",
  "×’' ×›×¨×›×™×Ÿ": "×©×œ×•×©×” ××§×•××•×ª ×—×©×•×‘×™×",
  "×’×¨×“×": "×¡×ª×, ×‘×œ× ×ª×•×¡×¤×ª",
  "×’×•×–××": "×”×’×–××”",
  "×’××¨×™× ×Ÿ": "×œ×•××“×™×, ××¡×™×§×™×",
  "×“×": "×–×”, ×”×“×‘×¨ ×”×–×”",
  "×“××™×Ÿ": "×©×”× ××™× ×",
  "×“×œ×™×›×": "×©××™×Ÿ",
  "×“××¢×™×§×¨×": "××ª×—×™×œ×”, ××œ×›×ª×—×™×œ×”",
  "×“×××¨": "×©××•××¨",
  "×“×××¨×™× ×Ÿ": "×©×××¨× ×•",
  "×“××™×§×œ×¢": "×©× ×–×“××Ÿ",
  "×“××™×ª×™×”": "×©×”×•× ×§×™×™×",
  "×“××™×§×¤×“": "×©×›×¢×¡",
  "×“××§×©×™": "×©×”×§×©×” (×©××œ×”)",
  "×“×¨×¨×": "×¡×™×‘×”, ×’×•×¨×",
  "×“×©××¢×ª": "×©×©××¢×ª",
  "×“×™× ×": "×“×™×Ÿ",
  "×“×™×“×”×•": "×©×œ×”×",
  "×“×™×“×™×”": "×©×œ×•",
  "×“×™×“×”×Ÿ": "×©×œ×”×Ÿ",
  "×“×™×“×›×•": "×©×œ×›×",
  "×“×”×›×": "×©×›××Ÿ",
  "×“×”×ª×": "×©×©×",
  "×“×¡×œ×§× ×“×¢×ª×š": "×©×¢×œ×ª×” ×¢×œ ×“×¢×ª×š",
  "×”××™": "×–×”, ×“×‘×¨ ×–×”",
  "×”×›×": "×›××Ÿ",
  "×”×ª×": "×©×",
  "×”×›×™": "×›×š",
  "×”×": "×”×¨×™, ×”× ×”",
  "×”×•× ×××™× ×": "×”×™×™×ª×™ ××•××¨, ××—×©×‘×” ×¨××©×•× ×”",
  "×”×•×” ×¢×•×‘×“×": "×”×™×” ××¢×©×”",
  "×”×™×›×™ ×“××™": "××™×š ×–×”? ×‘××™×–×” ××¦×‘?",
  "×”×™×™× ×•": "×›×œ×•××¨, ×–×”×• ×¤×™×¨×•×© ×”×“×‘×¨",
  "×•××™": "×•××",
  "×•×”×": "×•×”×¨×™, ×•×”× ×”",
  "×•×”×“×¨": "×•××—×¨ ×›×š, ×•×—×–×¨",
  "×•×”×›×™ × ××™": "×•×›×š ×’×",
  "×•×”×©×ª×": "×•×¢×›×©×™×•",
  "×•×”×•×ª×™×¨×•": "×”×•×ª×™×¨×•, ×”×©××™×¨×• ×¢×•×“",
  "×•×”×•×”": "×•×”×™×”",
  "×•×××¨×™ ×œ×”": "×•×™×© ××•××¨×™× ×‘××•×¤×Ÿ ××—×¨",
  "×•×”×œ×›×ª×": "×•×”×œ×›×” ×”×™×",
  "×•×”× ×§× ×—×–×™× ×Ÿ": "×•×”×¨×™ ×× ×—× ×• ×¨×•××™×",
  "×•×”×›×™ ×§×××¨": "×•×›×š ×”×•× ××•××¨",
  "×–×•×˜×": "×§×˜×Ÿ, ××•×¢×˜",
  "×–×™×œ": "×œ×š (×¦×™×•×•×™)",
  "×–×× ×”": "×–××Ÿ, ×ª×§×•×¤×”",
  "×–×•×˜×¨×": "×§×˜×Ÿ, ×œ×¢×™×ª×™× ×›×©× ×—×›×",
  "×–×™×× ×": "×¤×¢×, ×–××Ÿ",
  "×–×›×™": "×–×›×”, ×”×¨×•×•×™×—",
  "×—×•××¨×": "×—×•××¨×”, ×”×—××¨×” ×‘×“×™×Ÿ",
  "×—×•××¨× ×™×ª×™×¨×": "×—×•××¨×” ×™×ª×¨×”",
  "×—×¡×•×¨×™ ××—×¡×¨×": "×—×¡×¨, ×”×©××˜×” ×‘×˜×§×¡×˜",
  "×—×ª× ×™×”": "×—×ª× ×•, ×—×ª× ×™×•",
  "×—×™×™×‘ ××™× ×™×©": "×—×™×™×‘ ××“× (×¤×ª×™×— ×œ×“×™×Ÿ)",
  "×—×™×™×©×™× ×Ÿ": "×—×•×©×©×™×, ×œ×•×§×—×™× ×‘×—×©×‘×•×Ÿ",
  "×—×¡ ×œ×™×”": "×—×œ×™×œ×” ×œ×•",
  "×—×•×˜×¨×": "××§×œ, ×©×‘×˜",
  "×—×–×™": "×¨×•××” / ×¨××•×™",
  "×—×–×§×”": "×”× ×—×ª ×™×¡×•×“ / ×—×–×§×” ××©×¤×˜×™×ª",
  "×—×™×˜×™": "×—×™×˜×™×",
  "×—×¡×“×": "×—×¡×“ (×©× ×××•×¨×: ×¨×‘ ×—×¡×“×)",
  "×—×¤×¥": "×¨×•×¦×”, ××¢×•× ×™×™×Ÿ",
  "×—×™×•×•×¨×": "×œ×‘×Ÿ",
  "×˜×¤×™": "×™×•×ª×¨",
  "×˜×¢××": "×˜×¢×, ×”×¡×‘×¨",
  "×˜×¢××™×”": "×˜×¢××•, ×”×¡×‘×¨×•",
  "×˜×‘ ×œ××™×˜×‘": "×˜×•×‘ ×œ×©×œ×",
  "×˜×‘/×˜×‘×™×Ÿ": "×˜×•×‘, ×˜×•×‘×™×",
  "×˜×œ×™×": "×™×œ×“ ×§×˜×Ÿ, ××• '×ª×œ×•×™'",
  "×˜×œ×¤×—": "×›×£ ×™×“",
  "×™××•×©": "×”×ª×™×™××©×•×ª (×‘×”×œ×›×”)",
  "×™×“×™×¢×”": "×™×“×™×¢×”, ××™×“×¢",
  "×™×”×‘": "× ×ª×Ÿ",
  "×™×”×‘×™": "× ×•×ª× ×™×",
  "×™×××": "×™×•×",
  "×™××ª×™×Ÿ": "×™×—×›×”",
  "×™×ª×™×‘": "×™×•×©×‘",
  "×™×ª×™×¨×”": "×ª×•×¡×¤×ª",
  "×™×ª××™": "×™×ª×•××™×",
  "×™×§×¨×": "×›×‘×•×“, ×™×§×¨",
  "×™××œ×š": "×™×ª×™×™×¢×¥, ×™×—×©×•×‘",
  "×™×§×¨×”": "×›×‘×•×“",
  "×™×ª×™×‘ ×‘×“×™× ×": "×™×•×©×‘ ×‘×“×™×Ÿ (×“×™×™×Ÿ)",
  "×›×™ ×”××™ ×’×•×•× ×": "×‘××•×¤×Ÿ ×›×–×”",
  "×›×™ ×”×™×›×™": "×›×“×™ ×©, ×¢×œ ×× ×ª ×©",
  "×›×“×××¨×™× ×Ÿ": "×›××• ×©×××¨× ×•",
  "×›×“×§×××¨": "×›××• ×©×”×•× ××•××¨",
  "×›×•×œ×”×•": "×›×•×œ×",
  "×›× ×’×“×™×”": "×›× ×’×“×•",
  "×›×¡×™×¤× ×œ×™×” ××™×œ×ª×": "×”×“×‘×¨ ××‘×™×™×© ××•×ª×•",
  "×›×ª×‘ ×¨×‘": "×¤×¡×§ ×›×š ×•×›×š",
  "×œ××¤×•×§×™": "×œ×”×•×¦×™× (×œ××¢×˜)",
  "×œ× ××‘×¢×™×": "×œ× ×¦×¨×™×š ×œ×•××¨ (×§×œ ×•×—×•××¨)",
  "×œ×‘×ª×¨": "×œ××—×¨ ××›×Ÿ",
  "×œ×™×”×•×™": "×©×™×”×™×”",
  "×œ××¢×•×˜×™": "×œ××¢×˜, ×œ×”×•×¦×™×",
  "×œ×™×©× ×": "×œ×©×•×Ÿ (×©×¤×”)",
  "×œ×™×ª": "××™×Ÿ, ××™× × ×•",
  "×œ×™×ª ×“×—×™×™×©": "××™×Ÿ ××™ ×©×—×•×©×© ×œ×–×”",
  "×œ×™×ª×™": "×©×™×‘×•×",
  "×œ××¢×‘×“": "×œ×¢×©×•×ª",
  "×œ××¤×¨×¢": "×œ××—×•×¨, ×‘×“×™×¢×‘×“",
  "×œ×™×ª ×œ×™×”": "××™×Ÿ ×œ×•",
  "×××™": "××”",
  "×××™ ×‘×™× ×™×™×”×•": "××” ×”×”×‘×“×œ ×‘×™× ×™×”×",
  "×××Ÿ": "××™",
  "×××Ÿ ×“×××¨": "××™ ×©××•××¨ (×“×¢×”)",
  "××“××•×¨×™×™×ª×": "××Ÿ ×”×ª×•×¨×”",
  "××“×™×¨×‘× ×Ÿ": "××“×¨×‘× ×Ÿ",
  "××™×”×": "×¢×œ ×›×œ ×¤× ×™×",
  "××—×•×•×¨×ª×": "×‘×¨×•×¨ ×™×•×ª×¨",
  "××™×™×ª×™": "××‘×™×",
  "××™×ª×™×‘×™": "××§×©×™× ××‘×¨×™×™×ª×",
  "××›××Ÿ ×•××™×œ×š": "×œ×”×‘×, ××›××Ÿ ×•×œ×”××©×™×š",
  "×× × ×”× ×™ ××™×œ×™": "×× ×™×™×Ÿ ×“×‘×¨×™× ××œ×•",
  "×× ×œ×Ÿ": "×× ×™×™×Ÿ ×œ× ×•",
  "××¡×ª×‘×¨×": "××¡×ª×‘×¨, ×”×’×™×•× ×™",
  "××¡×¤×§× ×œ×Ÿ": "×™×© ×œ× ×• ×¡×¤×§",
  "××¦×™×¢×ª×": "×”×××¦×¢",
  "××™×“×™ ×“×”×•×” ×": "×‘×“×•××” ×œ××” ×©×”×•×œ×š ×œ×’×‘×™...",
  "××™×œ×ª×": "×“×‘×¨, ×¢× ×™×™×Ÿ",
  "××™×¢×•×˜×": "××™×¢×•×˜",
  "××¢×™×§×¨×": "××ª×—×™×œ×”, ××œ×›×ª×—×™×œ×”",
  "× ×™××": "× ×××¨, ××•×œ×™ × ×××¨",
  "× ×¤×§× ××™× ×”": "×”×‘×“×œ ××¢×©×™ ×©×™×•×¦× ××›×š",
  "× ×¤×™×§": "×™×•×¦×",
  "× ×§×˜": "××—×–, ×”×—×–×™×§",
  "× ×™×–×™×œ": "× ×œ×š",
  "× ×™×—×": "× ×•×—, ××¡×ª×“×¨",
  "× ×¡×™×‘": "× ×©× (××™×©×”) / ×œ×§×—",
  "× ×§×™×˜": "×ª×•×¤×¡, ××•×—×–",
  "× ×¡×ª×—×¤×” ×©×“×”×•": "×©×“×”×• × ×¤×’×¢×” (×”×¤×¡×™×“)",
  "×¡×‘×¨×": "×¡×‘×¨×”, ×”×™×’×™×•×Ÿ",
  "×¡×’×™": "××¡×¤×™×§, ×“×™ (×•×œ×¤×¢××™× '×’×“×•×œ')",
  "×¡×œ×§× ×“×¢×ª×š": "×”×™×™×ª ××¢×œ×” ×¢×œ ×“×¢×ª×š?",
  "×¡×œ×§× ×“×¢×ª×š ×××™× ×": "×”×™×™×ª ×—×•×©×‘ ×œ×•××¨...",
  "×¡×œ×§×™×Ÿ": "×¢×•×œ×™× ××• ××¡×™×§×™×",
  "×¡××•×š": "×§×¨×•×‘, ×¦××•×“",
  "×¡×¢×•×“×ª×": "×¡×¢×•×“×”",
  "×¡×’×•×œ×”": "×˜×•×‘×” ××™×•×—×“×ª",
  "×¡×¤×¨×": "×¡×¤×¨",
  "×¡×¤×§×": "×¡×¤×§",
  "×¡×¤×™×§× ×“×¨×‘× ×Ÿ": "×¡×¤×§ ×‘×“×™×Ÿ ×“×¨×‘× ×Ÿ",
  "×¢×‘×™×“": "×¢×•×©×”, ×¤×•×¢×œ",
  "×¢×‘×™×“×ª×™×”": "××¢×©×™×•",
  "×¢×™×™×œ": "× ×›× ×¡",
  "×¢×™×™×œ×™": "× ×›× ×¡×•",
  "×¢×™×™×œ × ×¤×©×™×”": "× ×›× ×¡ ×‘×¢×¦××•",
  "×¢×‘×™×“ ×”×©×ª×": "×¢×•×©×” ×¢×›×©×™×•",
  "×¢×“ ×“â€¦": "×¢×“ ×©â€¦",
  "×¢×™×œ×•×™": "×¢×œ×™×™×”, ×¨××” ×’×‘×•×”×”",
  "×¢×‘×™×“×ª×": "××¢×©×”, ××œ××›×”",
  "×¢×§×¨": "× ×¢×§×¨, ×™×¦× ×××§×•××•",
  "×¢\"×›": "×¢×œ ×›×¨×—×š",
  "×¤×•×¨×ª×": "××¢×˜, ×§×¦×ª",
  "×¤×©×™×˜×": "×¤×©×•×˜",
  "×¤×™×¨×›×": "×§×•×©×™×” ×—×–×§×”",
  "×¤×˜×¨": "×©×—×¨×¨, ××• '×¤×˜×¨ ×¨×—×' ×•×›×•'",
  "×¤×¡×§×": "×¤×¡×™×§×”, ×¡×™×•× ×¢× ×™×™×Ÿ",
  "×¤×™×¨×™": "×¤×™×¨×•×ª",
  "×¤×™×§×“×•×Ÿ": "×—×¤×¥ ×©×”×•×¤×§×“",
  "×¤×•××": "×¤×”, ×¤×™×•",
  "×¤×¢×™ ×œ×™×”": "×¦×¢×§ ×œ×•, ×¤× ×” ×‘×§×•×œ",
  "×¦×•×•×—": "×¦×¢×§, ×§×¨× ×‘×§×•×œ",
  "×¦×¨×™×š": "×–×§×•×§",
  "×¦×¨×™×›×": "×¦×¨×™×š ×”×“×‘×¨, × ×“×¨×©",
  "×¦×“×§×ª×": "×¦×“×§×”",
  "×¦×•×¨×‘× ××¨×‘× ×Ÿ": "×ª×œ××™×“ ×—×›× ×¦×¢×™×¨",
  "×¦×¢×¨×": "×¦×¢×¨, ×›××‘",
  "×¦×¨×™×š ×¢×™×•×Ÿ": "×“×•×¨×© ×¢×™×•×Ÿ × ×•×¡×£",
  "×§××™": "×¢×•××“, ××ª×§×™×™×",
  "×§× ××™×©×ª××¢": "××©×ª××¢, ××•×‘×Ÿ",
  "×§×××¨": "×”×•× ××•××¨",
  "×§× ×œ×™×” ×‘×“×¨×‘×” ××™× ×™×”": "× ×¢× ×© ×‘×¢×•× ×© ×”×—××•×¨ ××‘×™×Ÿ ×”×©× ×™×™×",
  "×§×œ ×•×—×•××¨": "×§×œ ×•×—×•××¨",
  "×§××™×”": "×œ×¤× ×™×•",
  "×§×•×©×˜×": "×××ª (×‘×§×•×©×˜×)",
  "×§×•×©×˜× ×“××™×œ×ª×": "×”×××ª ×©×œ ×”×“×‘×¨",
  "×§×¨×": "×¤×¡×•×§, ×›×ª×•×‘",
  "×§×•×“× ×–×× ×™×”": "×œ×¤× ×™ ×”×–××Ÿ ×©×œ×•",
  "×§×©×¨×•": "×§×©×¨×•, ×”×ª× ×•",
  "×§×œ×™×œ×": "×§×œ, ×œ× ×›×‘×“",
  "×¨×™×©×": "×”×”×ª×—×œ×”, ×”×—×œ×§ ×”×¨××©×•×Ÿ",
  "×¨×¢×™×": "×¨×•×¢×”",
  "×¨×©××™": "××•×ª×¨ ×œ×•",
  "×¨×©×•×ª": "×¨×©×•×ª, ×ª×—×•× ×‘×¢×œ×•×ª",
  "×¨××•": "×”×˜×™×œ×• ×¢×œ×™×• (×—×•×‘×”)",
  "×¨××™× ×Ÿ": "××˜×™×œ×™× (×§×•×©×™×”) ××• ××©×œ×™×›×™×",
  "×¨×‘× ×Ÿ": "×—×›××™×",
  "×¨×‘×¨×‘×™": "×’×“×•×œ×™×",
  "×¨×—×× ×": "×”×¨×—××Ÿ, ×›×™× ×•×™ ×œ×§×‘\"×”",
  "×¨×—×™×": "××•×”×‘",
  "×¨×™×—×": "×¨×™×—",
  "×¨××™×": "××•×˜×œ×ª (×—×•×‘×”), ××• ×”×©×œ×™×š",
  "×©×× ×™": "×©×•× ×” ×”×•×",
  "×©××¨×™": "×”×ª×™×¨, ××•×ª×¨",
  "×©×¢×ª×": "×©×¢×”, ×–××Ÿ",
  "×©××™×œ": "×©××œ, ×œ×•×•×”",
  "×©×‘×™×§": "×¢×•×–×‘, ×× ×™×—",
  "×©×“×": "×–×¨×§, ×”×©×œ×™×š",
  "×©×“×™": "×”× ×™×— (××• '×©×“×”')",
  "×©××¢ ××™× ×”": "×œ××“ ××× ×”",
  "×ª×™×§×•": "×ª×™×©××¨ ×‘×§×•×©×™×”",
  "×ª× ×": "×©× ×”, ×œ×™××“ (×—×›× ××©× ×”)",
  "×ª× ×™× ×": "×©× ×™× ×• (×‘××©× ×”/×‘×¨×™×™×ª×)",
  "×ª× ××™": "××—×œ×•×§×ª ×ª× ××™× / ×”×ª× ×™×”",
  "×ª×™×§×•×Ÿ": "×ª×™×§×•×Ÿ, ×§×‘×™×¢×”",
  "×ª×™×¨×•×¥": "×ª×©×•×‘×” ×œ×§×•×©×™×”",
  "×ª×¨×ª×™": "×©×ª×™×™×",
  "×ª×¨×ª×™ ×“×¡×ª×¨×™": "×©× ×™ ×¢× ×™×™× ×™× ×¡×•×ª×¨×™×",
  "×ª×©×œ×•××™×Ÿ": "×”×©×œ××”, ×¤×™×¦×•×™",
  "×ª× ×—×•××™×Ÿ": "× ×—××”",
  "××™ ×××¨×ª ×‘×©×œ××â€¦": "×× ×ª×××¨ ×©××¡×ª×“×¨ ×©â€¦",
  "××œ×™×‘× ×“â€¦": "×œ×¤×™ ×©×™×˜×ª×• ×©×œâ€¦",
  "××œ× ××¢×ª×”": "×× ×›×Ÿ, ...",
  "×‘×“×™×¢×‘×“": "×œ××—×¨ ××¢×©×”",
  "×‘×¨ ××™× ×™×”": "×—×•×¥ ××× ×•",
  "×“×¨×•×© ×•×§×‘×œ ×©×›×¨": "×¢×™×¡×•×§ ×‘×“×‘×¨ ×©××™× ×• ×œ×”×œ×›×”",
  "×•××™ ×‘×¢×™×ª ××™××": "×•×× ×ª×¨×¦×” ×××•×¨ (×”×¡×‘×¨ × ×•×¡×£)",
  "×”××™ ××™×‘×¢×™ ×œ×™×”": "××ª ×–×” ×”×•× ×¦×¨×™×š",
  "×”×©×ª× ×“××ª×™×ª ×œ×”×›×™": "×¢×ª×” ×©×‘××ª ×œ×–×”",
  "×—×–×™ ×œ××¦×˜×¨×•×¤×™": "×¨××•×™ ×œ×¦×¨×£ (×”×œ×›×ª×™×ª)",
  "×˜×¢×× ×“â€¦": "×”×¡×™×‘×” ×”×™× ×©â€¦",
  "×œ× ×¦×¨×™×›× ××œ×â€¦": "×œ× × ×¦×¨×š ××œ× ×œ××§×¨×” ×–×”",
  "×œ×Ÿ ×”×œ×›×ª×": "×œ× ×• ×”×”×œ×›×” ×”×™×â€¦",
  "×××™ × ×¤×§× ××™× ×”": "××” ×™×•×¦× ××–×” ×œ××¢×©×”?",
  "×××™ ×˜×¢××": "××” ×”×¡×™×‘×”?",
  "××™×‘×¢×™ ×œ×™×”": "×”×™×” ×¦×¨×™×š ×œ×•",
  "××™×œ×ª× ×“×¤×©×™×˜×": "×“×‘×¨ ×¤×©×•×˜ ×”×•×",
  "×¡×ª× ×•××—×¨ ×›×š ××—×œ×•×§×ª": "×›×œ×œ ×¤×¨×©× ×™ ×‘××©× ×”",
  "×¤×œ×•× ×™ ×œ×˜×¢××™×”": "×¤×œ×•× ×™ ×œ×©×™×˜×ª×•",
  "×§×œ ×•×—×•××¨ ×‘×Ÿ ×‘× ×• ×©×œ ×§×œ ×•×—×•××¨": "×—×™×–×•×§ ×œ×˜×™×¢×•×Ÿ ×§\"×•",
  "×§×™× ×œ×™×” ×‘×“×¨×‘×” ××™× ×™×”": "××§×‘×œ ×”×¢×•× ×© ×”×—××•×¨",
  "×¨×™×© ×œ×§×™×©": "×©× ×××•×¨× (×¨' ×©××¢×•×Ÿ ×‘×Ÿ ×œ×§×™×©)",
  "×©×‘ ×•××œ ×ª×¢×©×”": "×”×™×× ×¢×•×ª ××¤×¢×•×œ×” ×¢×“×™×¤×”",
  "×ª×™×§×• (×—×•×–×¨)": "×ª×™×©××¨ ×‘×§×•×©×™×”",
  "×ª× × ×§××": "×”×ª× × ×”×¨××©×•×Ÿ ×‘×“×¢×”",
  "×ª× ×• ×¨×‘× ×Ÿ": "×œ×™××“×• ×—×›××™× (×‘×¨×™×™×ª×)",
  "×ª×¨×™ ×’×•×•× ×™": "×©× ×™ ×¡×•×’×™×",
  "×ª×¨×™ ×•×ª×œ×ª": "×©× ×™×™× ×•×©×œ×•×©×”",
  "×ª×¨×™×¥ ×”×›×™": "×”×¡×‘×¨ ×›×š",
  "×ª×¨×™ ×§×œ×™ ××™×œ×™": "×©× ×™ ×¢× ×™×™× ×™× ×§×œ×™×"
};

/**************************************
  × ×ª×•× ×™ ×”× ×©×§×™× + ×”×•×¡×¤× ×• 2 ××’×”-××’×“×™
**************************************/
const RARITY = {
  COMMON:        { name: "×¤×©×•×˜",        color: "#666",   bg: "#f0f0f0" },
  SPECIAL:       { name: "××™×•×—×“",       color: "#007bff", bg: "#dbeafe" },
  RARE:          { name: "× ×“×™×¨",        color: "#6f42c1", bg: "#eee5f8" },
  LEGENDARY:     { name: "××’×“×™",        color: "#d39e00", bg: "#fffae6" },
  MEGA_LEGENDARY:{ name: "××’×” ××’×“×™",   color: "#dc3545", bg: "#fde2e2" },
};

const ITEMS = {
  WEAPONS: [
    { id: "w1",  name: "×—×¨×‘ ×¤×œ×“×”",     type: "weapon", rarity: RARITY.COMMON,  icon: "âš”ï¸", power: 10 },
    { id: "w2",  name: "×§×©×ª ×¢×¥",       type: "weapon", rarity: RARITY.COMMON,  icon: "ğŸ¹", power: 8 },
    { id: "w3",  name: "×—× ×™×ª ×‘×¨×–×œ",    type: "weapon", rarity: RARITY.COMMON,  icon: "ğŸ”±", power: 12 },
    { id: "w4",  name: "×—×¨×‘ ×”××©",      type: "weapon", rarity: RARITY.SPECIAL, icon: "ğŸ”¥", power: 20 },
    { id: "w5",  name: "×§×©×ª ×”×¨×¢×",     type: "weapon", rarity: RARITY.SPECIAL, icon: "âš¡", power: 18 },
    { id: "w6",  name: "×—× ×™×ª ×”×“×¨×§×•×Ÿ",  type: "weapon", rarity: RARITY.RARE,    icon: "ğŸ‰", power: 32 },
    { id: "w7",  name: "×—×¨×‘ ×”××œ×›×™×",   type: "weapon", rarity: RARITY.RARE,    icon: "ğŸ‘‘", power: 30 },
    { id: "w8",  name: "×—×¨×‘ ×”×œ×”×‘×”",    type: "weapon", rarity: RARITY.LEGENDARY, icon: "ğŸŒŸ", power: 50 },
    { id: "w9",  name: "×—×¨×‘ ×”×‘×¨×™××”",   type: "weapon", rarity: RARITY.MEGA_LEGENDARY, icon: "ğŸ’¥", power: 70 },
    // ×©× ×™ × ×©×§×™× ××’×”-××’×“×™×™× ×—×“×©×™×:
    { id: "w10", name: "×©×¨×‘×™×˜ ×”××¤×œ×”",  type: "weapon", rarity: RARITY.MEGA_LEGENDARY, icon: "ğŸ”®", power: 75 },
    { id: "w11", name: "×¤×˜×™×© ×”×§×•×¡××•×¡",  type: "weapon", rarity: RARITY.MEGA_LEGENDARY, icon: "ğŸ”¨", power: 80 },
  ]
};

const MOCK_DB = {
  players: [],
  savePlayer(playerData) {
    this.players.push(playerData);
    // ××™×•×Ÿ ×™×•×¨×“ ×œ×¤×™ score
    this.players.sort((a, b) => b.score - a.score);
  }
};

function calculateItemScore(items) {
  let score = 0;
  items.forEach(item => {
    if (item.rarity === RARITY.MEGA_LEGENDARY) score += 2000;
    else if (item.rarity === RARITY.LEGENDARY) score += 1000;
    else if (item.rarity === RARITY.RARE) score += 500;
    else if (item.rarity === RARITY.SPECIAL) score += 200;
    else score += 50;
  });
  return score;
}

/** ×”×’×¨×œ×” ××©×•×§×œ×œ×ª: ×¤×©×•×˜ 50%, ××™×•×—×“ 20%, × ×“×™×¨ 15%, ××’×“×™ 10%, ××’×” 5% */
function getRandomWeaponByRarity() {
  const roll = Math.random() * 100;
  let chosenRarity;
  if (roll < 50) chosenRarity = RARITY.COMMON;
  else if (roll < 70) chosenRarity = RARITY.SPECIAL;
  else if (roll < 85) chosenRarity = RARITY.RARE;
  else if (roll < 95) chosenRarity = RARITY.LEGENDARY;
  else chosenRarity = RARITY.MEGA_LEGENDARY;

  const possible = ITEMS.WEAPONS.filter(w => w.rarity === chosenRarity);
  if (possible.length === 0) return ITEMS.WEAPONS[0];
  return possible[Math.floor(Math.random() * possible.length)];
}

/** ×™×•×¦×¨ ×©××œ×” ×¨× ×“×•××œ×™×ª ××ª×•×š 300 ×”××™×œ×™× */
function generateAramaicQuestion() {
  const entries = Object.entries(ARAMAIC_DICTIONARY);
  const randomEntry = entries[Math.floor(Math.random() * entries.length)];
  const correctWord = randomEntry[0];
  const correctMeaning = randomEntry[1];

  const wrongPool = entries.filter(e => e[0] !== correctWord).map(e => e[1]);
  const selectedWrong = [];
  for (let i = 0; i < 3; i++) {
    if (wrongPool.length === 0) break;
    const idx = Math.floor(Math.random() * wrongPool.length);
    selectedWrong.push(wrongPool[idx]);
    wrongPool.splice(idx, 1);
  }
  const allOptions = [correctMeaning, ...selectedWrong];
  for (let i = allOptions.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [allOptions[i], allOptions[j]] = [allOptions[j], allOptions[i]];
  }
  const correctIndex = allOptions.indexOf(correctMeaning);

  return {
    word: correctWord,
    options: allOptions,
    correctIndex
  };
}

/**************************************
   × ×™×”×•×œ ××¦×‘ ×”××©×—×§ (Vanilla JS)
**************************************/
let playerName = "";
let gameStarted = false;
let showLeaderboard = false;
let score = 0;
let currentItems = [];
let correctStreak = 0;
let questionCount = 0;
let gameEnded = false;
let currentQuestion = null;
let selectedAnswer = null;
let lockAnswers = false;

function render() {
  // ××•×¡×™×¤×™× h1 ×•×›×“'
  const container = document.createElement("div");
  container.innerHTML = `
    <h1>××©×—×§ ×œ×™××•×“ ××¨××™×ª - 300 ××™×œ×™×</h1>
  `;
  root.appendChild(container);

  if (!gameStarted) {
    container.appendChild(renderStartScreen());
    if (showLeaderboard) {
      container.appendChild(renderLeaderboardOverlay());
    }
  } else {
    if (gameEnded) {
      container.appendChild(renderEndScreen());
    } else {
      container.appendChild(renderGameScreen());
    }
    if (showLeaderboard) {
      container.appendChild(renderLeaderboardOverlay());
    }
  }
}

/** ××¡×š ×¤×ª×™×—×” */
function renderStartScreen() {
  const div = document.createElement("div");

  const h2 = document.createElement("h2");
  h2.textContent = "×”×ª×—×œ×ª ××©×—×§ ×—×“×©";
  div.appendChild(h2);

  const label = document.createElement("label");
  label.textContent = "×©× ×©×—×§×Ÿ:";
  div.appendChild(label);

  const input = document.createElement("input");
  input.type = "text";
  input.className = "input-text";
  input.placeholder = "×”×›× ×¡ ××ª ×©××š";
  input.value = playerName;
  input.oninput = (e) => { playerName = e.target.value; };
  div.appendChild(input);

  const btnStart = document.createElement("button");
  btnStart.textContent = "×”×ª×—×œ ××©×—×§";
  btnStart.onclick = () => {
    if (playerName.trim()) {
      startGame();
    } else {
      alert("×× × ×”×–×Ÿ ×©× ×©×—×§×Ÿ");
    }
  };
  div.appendChild(btnStart);

  const btnLB = document.createElement("button");
  btnLB.textContent = "×˜×‘×œ×ª ××•×‘×™×œ×™× ğŸ†";
  btnLB.className = "btn-outline";
  btnLB.onclick = () => {
    showLeaderboard = true;
    cleanupAndRender();
  };
  div.appendChild(btnLB);

  return div;
}

function startGame() {
  gameStarted = true;
  gameEnded = false;
  score = 0;
  currentItems = [];
  correctStreak = 0;
  questionCount = 0;
  lockAnswers = false;
  selectedAnswer = null;
  currentQuestion = generateAramaicQuestion();
  cleanupAndRender();
}

function renderGameScreen() {
  const div = document.createElement("div");

  const p1 = document.createElement("p");
  p1.textContent = `×‘×¨×•×š ×”×‘×, ${playerName}!`;
  div.appendChild(p1);

  const p2 = document.createElement("p");
  p2.textContent = `×©××œ×” ××¡×¤×¨: ${questionCount + 1} ××ª×•×š 50`;
  div.appendChild(p2);

  const p3 = document.createElement("p");
  p3.textContent = `×¨×¦×£ ×ª×©×•×‘×•×ª × ×›×•× ×•×ª × ×•×›×—×™: ${correctStreak} / 5`;
  div.appendChild(p3);

  if (currentQuestion) {
    div.appendChild(renderQuestionCard(currentQuestion));
  }

  if (currentItems.length > 0) {
    const h3 = document.createElement("h3");
    h3.textContent = "×”×¤×¨×™×˜×™× ×©×”×¨×•×•×—×ª ×¢×“ ×›×”:";
    div.appendChild(h3);

    const itemsGrid = document.createElement("div");
    itemsGrid.className = "items-grid";
    currentItems.forEach(item => {
      itemsGrid.appendChild(renderItemCard(item));
    });
    div.appendChild(itemsGrid);
  }

  const pScore = document.createElement("p");
  pScore.textContent = `× ×™×§×•×“ × ×•×›×—×™: ${score}`;
  div.appendChild(pScore);

  // ×›×¤×ª×•×¨×™ ×¡×™×•×
  const btnWrap = document.createElement("div");

  const btnSave = document.createElement("button");
  btnSave.textContent = "×©××•×¨ ×ª×•×¦××” ×•×¡×™×™× ××©×—×§";
  btnSave.onclick = () => {
    saveGameResults();
    gameStarted = false;
    cleanupAndRender();
  };
  btnWrap.appendChild(btnSave);

  const btnReturn = document.createElement("button");
  btnReturn.textContent = "×—×–×¨×” ×œ×ª×¤×¨×™×˜ ×‘×œ×™ ×©××™×¨×”";
  btnReturn.className = "btn-outline";
  btnReturn.onclick = () => {
    gameStarted = false;
    cleanupAndRender();
  };
  btnWrap.appendChild(btnReturn);

  div.appendChild(btnWrap);

  return div;
}

function renderQuestionCard(q) {
  const box = document.createElement("div");
  box.className = "question-box";

  const h3 = document.createElement("h3");
  h3.textContent = `××” ×¤×™×¨×•×© ×”××™×œ×”: ${q.word}?`;
  box.appendChild(h3);

  const grid = document.createElement("div");
  grid.className = "answers-grid";

  q.options.forEach((opt, idx) => {
    const card = document.createElement("div");
    card.className = "answer-card";
    card.textContent = opt;

    if (selectedAnswer !== null) {
      if (idx === q.correctIndex) {
        card.classList.add("correct");
      } else if (idx === selectedAnswer) {
        card.classList.add("wrong");
      }
    }

    card.onclick = () => handleAnswer(idx);
    grid.appendChild(card);
  });

  box.appendChild(grid);
  return box;
}

function handleAnswer(idx) {
  if (!currentQuestion || lockAnswers || gameEnded) return;
  lockAnswers = true;
  selectedAnswer = idx;
  questionCount++;

  if (idx === currentQuestion.correctIndex) {
    correctStreak++;
    if (correctStreak === 5) {
      const weapon = getRandomWeaponByRarity();
      currentItems.push(weapon);
      score += weapon.power;
      correctStreak = 0;
      setTimeout(() => {
        alert("×›×œ ×”×›×‘×•×“! ×–×›×™×ª ×‘×¤×¨×™×˜: " + weapon.name);
      }, 300);
    }
  } else {
    correctStreak = 0;
  }

  cleanupAndRender();

  if (questionCount >= 50) {
    endGame();
    return;
  }

  setTimeout(() => {
    currentQuestion = generateAramaicQuestion();
    selectedAnswer = null;
    lockAnswers = false;
    cleanupAndRender();
  }, 2000);
}

function renderItemCard(item) {
  const divCard = document.createElement("div");
  divCard.className = "item-card";
  divCard.style.background = item.rarity.bg;

  const iconSpan = document.createElement("span");
  iconSpan.className = "item-icon";
  iconSpan.textContent = item.icon;
  divCard.appendChild(iconSpan);

  const textDiv = document.createElement("div");
  const nameDiv = document.createElement("div");
  nameDiv.style.color = item.rarity.color;
  nameDiv.style.fontWeight = "bold";
  nameDiv.textContent = item.name;
  textDiv.appendChild(nameDiv);

  const rarityDiv = document.createElement("div");
  rarityDiv.style.fontSize = "12px";
  rarityDiv.style.color = "#555";
  rarityDiv.textContent = item.rarity.name;
  textDiv.appendChild(rarityDiv);

  divCard.appendChild(textDiv);
  return divCard;
}

function endGame() {
  gameEnded = true;
  cleanupAndRender();
}

function renderEndScreen() {
  const box = document.createElement("div");
  box.className = "question-box";

  const h2 = document.createElement("h2");
  h2.textContent = "×¢× ×™×ª ×¢×œ 50 ×©××œ×•×ª! ×”××©×—×§ × ×’××¨.";
  box.appendChild(h2);

  const pScore = document.createElement("p");
  pScore.textContent = `×”× ×™×§×•×“ ×©×œ×š: ${score}`;
  box.appendChild(pScore);

  const btnWrap = document.createElement("div");

  const btnSave = document.createElement("button");
  btnSave.textContent = "×©××•×¨ ×ª×•×¦××” ×•×¡×™×™×";
  btnSave.onclick = () => {
    saveGameResults();
    gameStarted = false;
    cleanupAndRender();
  };
  btnWrap.appendChild(btnSave);

  const btnRestart = document.createElement("button");
  btnRestart.textContent = "×©××•×¨ ×ª×•×¦××” ×•×”×ª×—×œ ××—×“×©";
  btnRestart.className = "btn-outline";
  btnRestart.onclick = () => {
    saveGameResults();
    startGame();
  };
  btnWrap.appendChild(btnRestart);

  box.appendChild(btnWrap);
  return box;
}

function saveGameResults() {
  const playerData = {
    name: playerName,
    score: score,
    items: [...currentItems],
    date: new Date().toISOString()
  };
  MOCK_DB.savePlayer(playerData);
}

function renderLeaderboardOverlay() {
  const overlay = document.createElement("div");
  overlay.className = "overlay";

  const content = document.createElement("div");
  content.className = "overlay-content";

  const h3 = document.createElement("h3");
  h3.textContent = "×˜×‘×œ×ª ××•×‘×™×œ×™×";
  content.appendChild(h3);

  const table = document.createElement("table");
  const thead = document.createElement("thead");
  thead.innerHTML = `
    <tr>
      <th>×“×™×¨×•×’</th>
      <th>×©×</th>
      <th>× ×™×§×•×“</th>
      <th>××’×“×™×™×+</th>
      <th>×¡×”"×› × ×™×§×•×“ ×¤×¨×™×˜×™×</th>
    </tr>
  `;
  table.appendChild(thead);

  const tbody = document.createElement("tbody");
  MOCK_DB.players.forEach((player, index) => {
    const legendaryList = player.items
      .filter(item => item.rarity === RARITY.LEGENDARY || item.rarity === RARITY.MEGA_LEGENDARY)
      .map(item => item.name)
      .join(", ");

    const row = document.createElement("tr");
    row.innerHTML = `
      <td>${index + 1}</td>
      <td>${player.name}</td>
      <td>${player.score}</td>
      <td>${legendaryList}</td>
      <td>${calculateItemScore(player.items)}</td>
    `;
    tbody.appendChild(row);
  });
  table.appendChild(tbody);

  content.appendChild(table);

  const btnClose = document.createElement("button");
  btnClose.textContent = "×¡×’×•×¨";
  btnClose.style.marginTop = "20px";
  btnClose.style.width = "100%";
  btnClose.onclick = () => {
    showLeaderboard = false;
    cleanupAndRender();
  };
  content.appendChild(btnClose);

  overlay.appendChild(content);
  return overlay;
}

function cleanupAndRender() {
  root.innerHTML = "";
  render();
}

// ×”×¤×¢×œ×” ×¨××©×•× ×™×ª
cleanupAndRender();
</script>

</body>
</html>
